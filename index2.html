<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Locandine da Vix + TMDB</title>
  <style>
    body { background:#111; color:#fff; font-family:Arial; }
    .grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(150px,1fr)); gap:15px; padding:20px; }
    .card { cursor:pointer; text-align:center; }
    .card img { width:100%; border-radius:10px; }
  </style>
</head>
<body>
  <h1>Film & Serie</h1>
  <div id="grid" class="grid"></div>

  <script>
    const TMDB_API_KEY = "3d03931f82dd1b0c07af22dd0f214076"; 
    const grid = document.getElementById("grid");

    // chiamata a Vix (sostituisci con il tuo URL JSON)
    fetch("https://vixsrc.to/api/list/movie/?lang=it")
      .then(res => res.json())
      .then(async data => {
        for (let item of data) {
          let tmdbId = item.tmdb_id;
          if (!tmdbId) continue;

          // controlliamo se Ã¨ film o serie (puoi gestirlo meglio in base al JSON)
          let type = item.type === "movie" ? "movie" : "tv";

          // chiamata a TMDB
          let tmdbRes = await fetch(`https://api.themoviedb.org/3/${type}/${tmdbId}?api_key=${TMDB_API_KEY}&language=it-IT`);
          let tmdbData = await tmdbRes.json();

          let title = tmdbData.title || tmdbData.name;
          let poster = tmdbData.poster_path ? "https://image.tmdb.org/t/p/w300" + tmdbData.poster_path : "";

          // creiamo card
          let card = document.createElement("div");
          card.className = "card";
          card.innerHTML = `
            <img src="${poster}" alt="${title}">
            <p>${title}</p>
          `;
          grid.appendChild(card);
        }
      });
  </script>
</body>
</html>
